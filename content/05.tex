\chapter{Turingo mašinos ir jų variantai}

\begin{defn}[Determinuota vienajuostė Turingo mašina]
  Ketvertas $<\Sigma,Q,F,\delta>$, kur:
  \begin{description}
    \item[$\Sigma$] – baigtinė aibė – abėcėlė. (Jei nepaminėta kitaip:
      $\Sigma = \{0, 1, b\}$.)
    \item[$Q$] – baigtinė aibė – būsenų aibė. 
      ($Q = \{q_0,q_1,\dotsc,q_n\}$, kur $q_0$ – pradinė būsena.)
    \item[$F$] – galutinių būsenų aibė ($F \subset Q$).
    \item[$\delta$] – perėjimų funkcija. 
      ($\delta: Q \times \Sigma \to Q \times \Sigma \times \{K,N,D\}$)
  \end{description}
\end{defn}

\begin{defn}[Apibrėžta \emph{TM}]
  Sakysime, jog \emph{TM} su pradiniais duomenimis $X$ yra apibrėžta, jei 
  pradžioje į duomenų juostą įrašius žodį $X$, \emph{TM} po baigtinio
  žingsnių kiekio patenka į vieną iš galutinių būsenų.
\end{defn}

\begin{defn}[Turingo mašina apskaičiuoja funkciją]
  Sakysime, kad \emph{TM} $M$ apskaičiuoja funkciją 
  $f(x_1,x_2,\dotsc,x_n)$, jei egzistuoja toks kodavimas abėcėlės 
  $\Sigma$ simboliais $\cod(x_1,x_2,\dotsc,x_n) = \tilde{x}$, kuriam
  teisinga:
  \begin{enumerate}
    \item
      \begin{sloppypar}
        jei $f(x_1,x_2,\dotsc,x_n) = y$ (funkcija apibrėžta), tada
        \emph{TM} $M$ su pradiniais duomenimis $\cod(x_1,x_2,\dotsc,x_n)$
        yra apibrėžta ir baigus darbą, į dešinę nuo skaitymo galvutės yra
        žodis $\cod(y)$;
      \end{sloppypar}
    \item jei $f(x_1,x_2,\dotsc,x_n)$ – neapibrėžta, tada \emph{TM} $M$
      su pradiniais duomenimis $\cod(x_1,x_2,\dotsc,x_n)$ irgi yra
      neapibrėžta.
  \end{enumerate}
\end{defn}

\begin{defn}[Determinuota m-juostė \emph{TM}]
  Ketvertas $<\Sigma,Q,F,\delta>$, kur:
  \begin{description}
    \item[$\Sigma$] – baigtinė aibė – abėcėlė.
    \item[$Q$] – baigtinė būsenų aibė.
    \item[$F$] – galutinių būsenų aibė. ($F \subset Q$)
    \item[$\delta$] – perėjimų funkcija:
      \begin{align*}
        \delta:
        Q &\times \underbrace{\Sigma \times \Sigma \times \cdots
          \times \Sigma}_{m}
        \to\\
        Q &\times \underbrace{%
          \Sigma \times \Sigma \times \cdots \times \Sigma}_{m}%
        \times \underbrace{
          \{K,D,N\} \times \{K,D,N\} \times \cdots \times \{K,D,N\}}_{m}
      \end{align*}
  \end{description}
\end{defn}

\begin{defn}[Nedeterminuota Turingo mašina]
  Turingo mašina, kurios perėjimų funkcija yra daugiareikšmė.
\end{defn}


\section{Baigtiniai automatai}

\begin{defn}[Baigtinis automatas]
  Vienajuostė determinuota Turiningo mašina, kurios perėjimų funkcija
  yra $\delta(q_i, a) = (q_j, a, D)$ ir kuri (\emph{TM}) baigia darbą
  tada, kai pasiekia pirmąją tuščią ląstelę.
\end{defn}

\begin{defn}[Baigtinio automato kalba]
  Aibė žodžių, su kuriais automatas baigia darbą vienoje iš galutinių 
  būsenų.
\end{defn}

\begin{prop}
  Baigtinė aibė yra baigtinio automato kalba.
\end{prop}

\begin{prop}
  Baigtinio automato kalbos $A$ papildinys $\bar{A}$ irgi yra baigtinio
  automato kalba.
\end{prop}

\begin{prop}
  Jei $A_1$ ir $A_2$ yra baigtinio automato kalbos, tai ir 
  $A_1 \cup A_2$, bei $A_1 \cap A_2$ yra baigtinio automato kalbos.

  \begin{proof}
    Grafų $G_1$ ir $G_2$ Dekarto sandauga yra grafas, kurio viršūnės yra 
    visos įmanomos poros $(q_i,q_j)$, kur $q_i$ yra $G_1$ viršūnė, o 
    $q_j$ – $G_2$ viršūnė. Iš viršūnės $(q_i,q_j)$ eis briauna į 
    viršūnę $(q_k,q_l)$ su simboliu $a$, jei grafe $G_1$ eina briauna iš
    viršūnės $q_i$ į viršūnę $q_k$ su simboliu $a$ ir grafe $G_2$ eina
    briauna iš viršūnės $q_j$ į viršūnę $q_l$ su simboliu $a$.
    
    $F_{A \cup B}$ – visos viršūnės $(q_i,q_j)$, kur $q_i \in F_{A}$
    arba $q_j \in F_{B}$.

    $F_{A \cap B}$ – visos viršūnės $(q_i,q_j)$, kur $q_i \in F_{A}$
    ir $q_j \in F_{B}$.

    Baigtinis automatas, kurio perėjimų funkcija vaizduojama grafu
    $G_1 \times G_2$, pradinė būsena yra $(q_0, q_0)$ ir kurio
    galutinių būsenų aibė yra $F_{A \cup B}$, turės kalbą
    $A_1 \cup A_2$. Atitinkamai, baigtinis automatas, kurio galutinių
    būsenų aibė yra $F_{A \cap B}$, turės kalbą $A_1 \cap A_2$.
  \end{proof}
\end{prop}

\begin{prop}
  Baigtinių automatų kalbų
  \begin{enumerate}
    \item konkatenacija $:= \{ uv : u \in A_1, v \in A_2 \}$, kur 
      $A_1$, $A_2$ – automato kalbos;
    \item iteracija $:=\{u_1 u_2 \dots u_k : u_i \in A, i=1,2,\dotsc,k\}$,
      kur $A$ – automato kalba;
    \item atspindys $:=\{a_1 a_2 \dots a_n : a_n a_{n-1} \dots a_1 %
      \in A \}$, kur $A$ – automato kalba
  \end{enumerate}
    irgi yra baigtinių automatų kalbos.
\end{prop}

\section{Algoritmų sudėtingumas}

\begin{notation}
  \hfill \\
  \begin{description}
    \item[$i(v)$] – žodžio $v$ ilgis;
    \item[$t(v)$] – žingsnių kiekis, kurį atlieka \emph{TM}, jei 
      pradinių duomenų juostoje yra žodis $v$.
    \item[$s(v)$] – panaudotų ląstelių kiekis, kurį sunaudojo \emph{TM},
      jei pradinių duomenų juostoje buvo žodis $v$.
  \end{description}
\end{notation}

\begin{defn}[Turingo mašinos M sudėtingumas laiko atžvilgiu]
  Funkcija: $T_{M} (n) = \max \{ t(v) : i(v) = n \}$.
\end{defn}

\begin{defn}[Turingo mašinos M sudėtingumas atminties atžvilgiu]
  Funkcija: $S_{M} (n) = \max \{ s(v) : i(v) = n \}$.
\end{defn}

\begin{defn}[Turingo mašinos kalba]
  Žodžių, su kuriais \emph{TM} baigia darbą galutinėje būsenoje, aibė.
\end{defn}

\begin{defn}[Problema (aibė) išsprendžiama su \emph{TM}]
  Sakysime, jog problema (aibė) A yra išsprendžiama su Turingo mašina,
  jei yra tokia Turingo mašina, kurios kalba yra A.
\end{defn}

Sakysime, kad \emph{TM} sudėtingumas atminties atžvilgiu yra 
$f(n)$, jei $\exists c \,(c >0) : S_{M}(n) = cf(n), \forall n$.

Sakysime, kad \emph{TM} sudėtingumas laiko atžvilgiu yra 
$f(n)$, jei $\exists c \,(c >0) : T_{M}(n) = cf(n), \forall n$.

\begin{defn}[Sudėtingumo klasės]
  \hfill \\
  \begin{itemize}
    \item $DTIME(f(n))$ – sudėtingumo klasė, kuriai priklauso visi
      uždaviniai, kuriems egzistuoja juos sprendžianti daugiajuostė 
      determinuota \emph{TM}, kurios sudėtingumas laiko atžvilgiu 
      yra $f(n)$.
    \item $NTIME(f(n))$ – sudėtingumo klasė, kuriai priklauso visi
      uždaviniai, kuriems egzisutoja juos sprendžianti daugiajuostė 
      nedeterminuota \emph{TM}, kurios sudėtingumas laiko atžvilgiu
      yra $f(n)$.
    \item $DSPACE(f(n))$ – sudėtingumo klasė, kuriai priklauso visi
      uždaviniai, kuriems egzistuoja juos sprendžianti daugiajuostė
      determinuota \emph{TM}, kurios sudėtingumas atminties atžvilgiu
      yra $f(n)$.
    \item $NSPACE(f(n))$ – sudėtingumo klasė, kuriai priklauso visi
      uždaviniai, kuriems egzsituoja juos sprendžianti daugiajuostė
      nedeterminuota \emph{TM}, kurios sudėtingumas atminties atžvilgiu
      yra $f(n)$.
  \end{itemize}
\end{defn}

\begin{defn}[Sudėtingumo klasės]
  \hfill \\
  \begin{itemize}
    \item $L = DSPACE(\log n)$
    \item $NL = NSPACE(\log n)$
    \item $P = DTIME(n^k)$, kur $k$ – konstanta.
    \item $NP = NTIME(n^k)$, kur $k$ – konstanta.
    \item $PSPACE = DSPACE(n^k)$, kur $k$ – konstanta.
    \item $EXP = DTIME(2^{n^{k}})$, kur $k$ – konstanta.
  \end{itemize}
\end{defn}

\begin{prop}
  $L \subseteq NL \subseteq P \subseteq NP %
    \subseteq PSPACE \subseteq EXP$
  ir $NL \not = PSPACE$ ir $P \not = EXP$.
\end{prop}

\section{Porų numeravimas}

\[
\overbrace{\underbrace{(0;0)}_{0}}^{\Sigma = 0},%
\overbrace{\underbrace{(0;1)}_{1},\underbrace{(1;0)}_{2}}^{\Sigma = 1},%
\overbrace{\underbrace{(0;2)}_{3},\underbrace{(1;1)}_{4},
  \underbrace{(2;0)}_{5}}^{\Sigma = 2},
  \underbrace{(0;3)}_{6},\underbrace{(1;2)}_{7},\dotsc
\]

\begin{defn}[Poros numeris \emph{Kantaro} numeracijoje]
  Funkcija $\alpha _{2}(x, y)$. Kairiojo nario funkcija yra 
  $\pi_{2}^{1}(n)$, o dešiniojo $\pi_{2}^{2}(n)$, kur $n$ yra porai 
  priskirtas numeris.
\end{defn}

\begin{prop}
  Poros $(x; y)$ numeris:
  \[
  \alpha _{2} (x, y) = \frac{(x+y)^{2} + 3x + y}{2}
  \]
  \begin{note}
    \[
    \pi^{1}_{2} (n) = n \dotminus \frac{1}{2}%
    \left[\frac{[\sqrt{8n + 1}]+1}{2}\right]%
    \left[ [\sqrt{8n + 1}] - 1 \right]
    \]
  \end{note}
\end{prop}

\begin{defn}[Kantaro funkcijos]
  $\alpha_{n}(x_1,x_2,\dotsc,x_n)$ – rinkinio $x_1,x_2,\dotsc,x_n$ numeris
  Kantaro numeracijoje.
  $\pi^{i}_{n} (K)$ – $K$-ojo rinkinio iš $n$ elementų $i$-asis narys.
\end{defn}

Kantaro funkcijos rekurentinė išraiška:
\[
\begin{cases}
   \alpha _{2} (x,y) = \frac{(x+y)^{2} + 3y + x}{2} \\
   \alpha _{n} (x_1,x_2,\dotsc,x_n) =%
   \alpha _{2} (x_1, \alpha _{n-1} (x_2,x_3,\dotsc,x_n))
\end{cases}
\]

\begin{note} \hfill
\begin{minted}{python}
>>> def alpha(*numbers):
...   if len(numbers) == 2:
...     x, y = numbers
...     return ((x+y)**2 + 3*x + y)/2
...   elif len(numbers) > 2:
...     return alpha(numbers[0], alpha(*numbers[1:]))
...   else:
...     raise Exception('Netinkamas argumentų kiekis!')
>>> alpha(1,0,1,2)
436.0
\end{minted}
\end{note}

\begin{exmp}
  Šis pavyzdys iliustruoja kaip į kiekvieną $n$-argumentų funkciją
  galima žiūrėti kaip į 1-argumento funkciją, kur argumentas yra
  atitinkamo rinkinio numeris. Šiuo atveju $f(x,y)$ yra 2 argumentų
  funkcija, o ją atitinkanti vieno argumento funkcija yra $g(z)$ (iš
  esmės abi jos skaičiuoja tą patį).
  \begin{align*}
    f(x,y) &= 3x + y \\
    g(z) &= 3 \pi^{1}_{2}(z) + \pi^{2}_{2}(z) \\
    f(x,y) &= g(\alpha_{2}(x,y)) = 3x + y
  \end{align*}
\end{exmp}

\section{Baigtinumo problema}

\begin{defn}[Standartinė \emph{TM}]
  Tokia \emph{TM}, kuri:
  \begin{enumerate}
    \item vienajuostė determinuota;
    \item $\Sigma = \left\{ 0, 1, b \right\}$;
    \item kai baigia darbą būdama galutinėje būsenoje, juostoje yra tik
      atsakymas, ir skaitymo galvutė žiūri į pirmąjį iš kairės netuščią
      simbolį;
    \item $|F| = 1$.
  \end{enumerate}
\end{defn}

\begin{prop}
  Kiekvienai \emph{TM} egzistuoja standartinė \emph{TM}, kuri skaičiuoja
  tą pačią funkciją.
\end{prop}

\begin{prop}
  Standartinių \emph{TM} aibė yra skaiti.
  \begin{note}
    Visas standartines \emph{TM} galima sunumeruoti:
    \[
    \begin{array}{r c c c c c l}
     \text{Turingo mašina: } & T_0, & T_1, & T_2, & T_3, & T_4, & \dotsc \\
     \text{Jos skaičiuojama funkcija: } & \varphi_0(x), & \varphi_1(x), &%
       \varphi_2(x), & \varphi_3(x), & \varphi_4(x), & \dotsc
      
    \end{array}
    \]
  \end{note}
\end{prop}

\begin{defn}[Baigtinumo problema]
  Ar yra toks algoritmas, kuris $\mathbb{N}$ skaičių porai $(m,n)$ 
  pasakytų, ar \emph{TM} su numeriu $m$ $(T_m)$ ir pradiniais
  duomenimis $n$ baigia darbą, ar ne.
\end{defn}

\begin{prop}
  Baigtinumo problema neišsprendžiama.
  \begin{proof}
    (Prieštaros būdu.)

    Tarkime, jog egzistuoja toks algoritmas, kuris porai $(m; n)$ pasako,
    ar \emph{TM} $T_{m}$ su duomenimis $n$ yra apibrėžta, ar ne. Tada
    egzistuoja tokia algoritmiškai apskaičiuojama funkcija:
    \[
    g(\alpha_{2}(x,y)) =%
    \begin{cases}
      1, & \text{jei } \varphi_{x}(y) < \infty \text{ (apibrėžta)}, \\
      0, & \text{jei } \varphi_{x}(y) = \infty \text{ (neapibrėžta)}.
    \end{cases}
    \]
    Tada yra \emph{TM}, kuri apskaičiuoja funkciją $g(z)$.
    Tada yra \emph{TM}, kuri apskaičiuoja funkciją:
    \[
    f(x) =%
    \begin{cases}
      1, & \text{ jei } g(\alpha_{2}(x,x)) = 0, \\
      \infty, & \text{ jei } g(\alpha_{2}(x,x)) = 1.
    \end{cases}
    \]
    \emph{TM} skaičiuojančią $g(z)$ pažymėkime $M_{1}$.
    \begin{align*}
      M_{1}: & \: Q_{1} \text{ – būsenų aibė;} \\
      & \: F_{1} \text{ – galutinių būsenų aibė.}
    \end{align*}
    Sukonstruokime \emph{TM} $M_{2}$ skaičiuojančią $f(x)$:

    Kai $M_{1}$ baigia darbą, tai galimi du variantai:
    \begin{enumerate}
      \item \emph{TM} yra galutinėje būsenoje $q_{F} \in F_{1}$ ir 
        juostoje yra vienintelis simbolis $1$, į kurį ir žiūri 
        skaitymo galvutė.
      \item \emph{TM} yra galutinėje būsenoje $q_{F} \in F_{1}$ ir 
        juostoje yra vienintelis simbolis $0$, į kurį ir žiūri 
        skaitymo galvutė.
    \end{enumerate}
    \emph{TM} $M_{2}$ tokia pati, kaip ir $M_{1}$, tik 
    $Q_{2} = Q_{1} \cup \{ q^{*} \}$, $F_{2} = \{ q^{*} \}$, 
    $q_{F}$ – nėra galutinė būsena ir:
    \begin{align*}
      \delta(q_{F},0) & = (q^{*}, 1, N) \to f(x)\text{ – apibrėžta;}\\
      \delta(q_{F},1) & = (q_{F}, 1, N) \to f(x)\text{ – neapibrėžta.}
    \end{align*}

    Kadangi yra \emph{TM} ($M_{2}$), kuri apskaičiuoja funkciją $f(x)$,
    tai yra toks numeris $l$, kad $T_{l} = M_{2}$. $T_{l}$ apskaičiuoja
    $\varphi_{l}(x)$, todėl $f(x) = \varphi_{l}(x)$. Panagrinėkime 
    $\varphi_{l}(l)$:
    \begin{enumerate}
      \item Jei $\varphi_{l}(l) < \infty$, tai 
        $g(\alpha_{2}(l,l)) = 1 \implies f(l) = \infty \implies%
        \varphi_{l}(l) = \infty$;
      \item Jei $\varphi_{l}(l) = \infty$, tai 
        $g(\alpha_{2}(l,l)) = 0 \implies f(l) = 1 \implies%
        \varphi_{l}(l) < \infty$.
    \end{enumerate}
    Gauname prieštarą, todėl neegzistuoja toks algoritmas, kuris 
    porai $(m;n)$ pasakytų, ar \emph{TM} $T_{m}$ su pradiniais duomenis
    $n$ baigia darbą, ar ne.
  \end{proof}
\end{prop}

\begin{defn}[Aibės charakteringoji funkcija]
  Aibės A charakteringoji funkcija yra:
  \[
  \chi _{A}(x) =%
  \begin{cases}
    1, & \text{ jei } x \in A \\
    0, & \text{ jei } x \not \in A
  \end{cases}
  \]
\end{defn}

\begin{defn}[Rekursyvi aibė]
  Sakysime, kad aibė yra rekursyvi, jei jos charakteringoji funkcija yra
  visur apibrėžta rekursyvi funkcija.
\end{defn}

\begin{note}
  (Rice teorema.) Jei aibė $X$ yra vieno argumento dalinai rekursyvių
  funkcijų aibė ir nesutampa nei su $\emptyset$, nei su visa vieno
  argumento dalinai rekursyvių funkcijų aibe (yra poaibis), tai 
  aibė $A = \left\{ x : \varphi_{x} \in X \right\}$ nėra rekursyvi.
  \begin{exmp}
    $X$ – funkcijų, kurios visada grąžina $1$ aibė: $X = \{ f(x) = 1 \}$.
    Tada $A = \{ x : \varphi_{x} \in X \}$ nėra rekursyvi $\implies$
    nėra algoritmo, kuris pasakytu ar $x \in A$.
  \end{exmp}
\end{note}

